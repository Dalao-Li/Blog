<!--
 * @Description: 
 * @Version: 1.0
 * @Author: Li Yuanhao
 * @Email: dalao_li@163.com
 * @Date: 2021-03-08 10:40:15
 * @LastEditors: Li Yuanhao
 * @LastEditTime: 2021-03-09 17:43:18
-->
## 查看所有主机
```sh
ansible all --list-hosts
```

## Ping

```sh
ansible [主机名/all] -m ping
```

## copy模块

把主控端目录下/root/目录的init.sh拷贝到到被控节点/tem/目录下
```sh
ansible all -m copy -a 'src=/root/init.hs dest=/tem/'
```

## file模块

更改被控节点上init.sh的权限为755，属主和属组为root

```sh
ansible all -m file -a "dest=/tem/init.sh mode=755 owner=root group=root"
```

## cron模块

在指定节点上定义一个计划任务，每隔3分钟到主控端更新一次时间

```sh
ansible all -m cron -a 'name="custom job" minute=*/3 hour=* day=* month=* weekday=* job="/usr/sbin/ntpdate 172.16.254.139"'
```

## group模块

在所有节点上创建一个组名为nolinux，gid为2014的组

```sh
ansible all -m group -a 'gid=2014 name=nolinux'
```

## user模块

在指定节点上创建一个用户名为nolinux，组为nolinux的用户

```sh
ansible all -m user -a 'name=nolinux groups=nolinux state=present'
```

## yum模块

在指定节点上安装 lrzsz 服务

```sh
ansible all -m yum -a "state=present name=httpd"
```

## service模块

启动指定节点上的 puppet 服务，并让其开机自启动

```sh
ansible all -m service -a 'name=puppet state=restarted enabled=yes'
```


## script模块

在指定节点上执行控制节点上的a.sh脚本

```sh
ansible all -m script -a '/root/a.sh'
```

## command模块

在指定节点上运行hostname命令

```sh
ansible all -m command -a 'hostname'
```

## raw模块

在all节点上运行hostname命令

```sh
ansible all -m raw-a 'hostname|tee'
```

## get_url模块

将http://10.1.1.116/favicon.ico文件下载到指定节点的/root/目录下

```sh
ansible all -m get_url -a 'url=http://10.1.1.116/favicon.ico dest=/root/'
```