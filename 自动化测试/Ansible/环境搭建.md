<!--
 * @Description: 
 * @Version: 1.0
 * @Author: Li Yuanhao
 * @Email: dalao_li@163.com
 * @Date: 2021-03-08 09:36:50
 * @LastEditors: Li Yuanhao
 * @LastEditTime: 2021-03-08 10:10:33
-->


## 安装Ansible

```sh
# 新增 epel-release 第三方套件来源
sudo yum install -y epel-release

# 安装Ansible
sudo yum install -y ansible
```
## 配置Ansible

> 文件地址 /etc/ansible/ansible.cfg


## Docker测试Ansible

使用docker建立两个容器,并用ansible对其进行控制

修改ansible配置文件

```sh
[defaults]

hostfile = hosts
remote_user = docker
host_key_checking = False
```

修改hosts文件
```sh
server1 ansible_ssh_host=127.0.0.1 ansible_ssh_port=49153 ansible_ssh_pass=docker

server2 ansible_ssh_host=127.0.0.1 ansible_ssh_port=49154 ansible_ssh_pass=docker

[local]
server1

server2
```

| 参数             | 值          |
| ---------------- | ----------- |
| ansible_ssh_host | 受控机的 IP |
| ansible_ssh_port | SSH port    |
| ansible_ssh_pass | SSH密码     |


宿主机里用 Docker 建立好的容器来练习 Ansible 

```sh
ansible all -m command -a 'echo Hello World on Docker.'
```

![](https://cdn.hurra.ltd/img/20210308100822.png)