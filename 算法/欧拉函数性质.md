# 函数

- ceil 向上取整

ceil(x)返回的是大于 x 的最小整数,是向正无穷大舍入

例: ceil(10.5) = 11; ceil(-10.5) = -10

- floor 向下取整

floor(x)返回的是小于或等于 x 的最大整数,是向负无穷大舍入

例: floor(10.5) = 10 floor(-10.5) = -11

# 数学公式

## 通项求和

$1^{2} + 2^{2} + 3^{2}+\cdots+ n^{2} = \frac{n(n+1)(2n+1)}{6}$

$1^{3} + 2^{3} + 3^{3}+\cdots+ n^{3} = (\frac{n(n+1)}{2})^2$

- 等差数列

$S_n = \frac{a_1+a_n}{2} = na_1 + \frac{n(n-1)d}{2}$

- 等比数列

$S_n = \frac{a_1(1-q^{n})}{1-q} (q \neq 1)$

---

# 欧拉函数

## 定义

$\varphi(n)$,对于一个正整数 n,小于 n 且和 n 互质的正整数(包括 1)的个数

$\varphi(n) =  n\prod (1-\frac{1}{p_i})$ 其中$p_i$为 n 的所有质因数,n 是不为 0 的整数;$\varphi(1)$=1,唯一和 1 互质的数就是 1 本身.

- 解释:

> 对于 n 的一个质因数$p_i$,在 n 以内$p_i$的倍数均匀分布  
> n 以内有$\frac{1}{p_i}$个数是$p_i$的倍数,则有$1 - \frac{1}{p_i}$个数不是$p_i$的倍数;  
> 同理,对于质因数$p_j$,则有$1 - \frac{1}{p_j}$个数不是$p_j$的倍数,则有$(1 - \frac{1}{p_i})(1 - \frac{1}{p_j})$个数即不是$p_i$,也不是$p_j$的倍数  
> 最后有$n\prod (1-\frac{1}{p_i})$个数与 n 互质

- 例:

$\varphi(10) = 10(1 - \frac{1}{2})(1 - \frac{1}{5} )$ = 4; (1,3,7,9)

$\varphi(30) = 30(1 - \frac{1}{2})(1 - \frac{1}{3} )(1 - \frac{1}{5} )$ = 8;

$\varphi(49)= 49(1 - \frac{1}{7} )$ = 42;

## 程序

- 单数求法

```c
ll eular(ll n){
    ll ans = n;
    for(int i = 2; i*i <= n; ++i){
        if(n % i == 0){
            //对应欧拉函数的通式即 ans = ans(1- 1/i)
            ans  = ans /i * (i-1);
            //为保证完全消除刚才得到的 i 因子,确保下一个得到的 i 是 n 的素因子.
            while(n % i == 0){
            	n /= i;
			}
        }
    }
    //为保证已经除完了 n 的所有的素因子;因为有可能还会出现一个未除的因子,若结尾出现 n>1,说明还剩一个素因子未除.
    if(n > 1){
    	ans = ans /n * (n-1);
	}
    return ans;
}
```

- 欧拉打表

```c
void phi(){
    p[1]=1;
    for(int i=2;i<maxn;i++){
        if(!p[i]){
        	for(int j=i;j<=maxn;j+=i){
                if(!p[j]){
                	p[j]=j;
				}
                p[j]=p[j]/i*(i-1);
            }
		}
    }
}


```

## 性质:

- 若 p 是素数,则$\varphi(p) = p-1$

- 对于任意两个素数 p,q,有$\varphi( pq ) = pq - 1$

- 对于正整数 n,若 $n = p_1^{q_1} + p_2^{q_2} + \cdots + p_n^{q_n}$ 且 $p_1$ $p_2$ $\cdots$ $p_n$ 为 n 的所有素因子

  则有$\varphi(n) = n(1 - \frac{1}{p_1})(1 - \frac{1}{p_2})\cdots(1 - \frac{1}{p_n})$

- 若$n = p^k$ (p 为质数) , 则有$\varphi(n) = (p-1)p^{k-1}$

- 欧拉定理: 对于互质的 m,n,有 $n^{\varphi(m)}$ ≡ 1 (mod m)

- 费马小定理: 对于质数 p  
   若 n mod m = 0 , 则$\varphi(n \times p) = \varphi(n) \times p$  
   若 n mod m $\ne$ 0 , 则$\varphi(n \times p) = \varphi(n) \times (p-1)$

- 小于 n 且与 n 互质的数的和
  $S = n \times \frac{\varphi(n)}{2}$

![](http://cdn.hurra.ltd/img/收款码.png)
