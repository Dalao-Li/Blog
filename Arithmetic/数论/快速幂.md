<!--
 * @Description: 
 * @Version: 1.0
 * @Autor: Li Yuanhao
 * @Email: dalao_li@163.com
 * @Date: 2021-01-16 17:59:35
 * @LastEditors: Li Yuanhao
 * @LastEditTime: 2021-02-05 15:21:14
-->

## 提出

求 $3^{13}$



## 暴力


$3^{13}=3*3*3*3*3*3*3*3*3*3*3*3*3$

需要算 14 次,太麻烦,不符合程序员的逼格

## 快速幂

$(13)_{10}$ = $(1101)_2$ = $1*2^3+1*2^2+0*2^1+1*2^0$

$3^{13}$ = $3^{1 * 2^3 +1 * 2^2 + 0 * 2^1 + 1 * 2^0}$

$3^{13}$ = $3^8*3^4*3^1$

则只需要算 7 次,方便运算

- 推导过程:    

$3^1$ = $(3^1)$

$3^2$ = $(3^1)^2$

$3^4$ = $(3^2)^2$

$3^8$ = $(3^4)^2$

> 快速幂就是运算过程不断对底数进行平方运算,并当指数的二进制位为 1 时,保存当前底数的乘积

## 代码实现

代码实现

```c
typedef long long ll;

//a为底数,b为指数
ll fastPower(ll a, ll b, ll mod) {
	if(b==0) {
		return 1;
	}
	//res用来保存结果
	ll res = 1;
	while(b) {
		//指数当前位为1时,保存底数的乘积
		if(b&1) {
			res = (res * a)%mod;
		}
		//判断指数的下一位
		b>>=1;
		//底数做平方运算
		a = (a * a)%mod;
	}
	return res;
}
```

运行结果:



> `b&1` 表示 b 与 1 进行按位与操作,若 b 当前二进制位为 1 则结果为 1；同时若 b 为奇数时,该操作结果也为 1
>
> `>>` 表示位移运算
