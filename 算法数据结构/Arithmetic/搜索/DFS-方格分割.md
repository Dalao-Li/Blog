# 题目

> 标题：方格分割
>
> 6x6 的方格,沿着格子的边线剪开成两部分.
> 要求这两部分的形状完全相同.
>
> 如图：p1.png, p2.png, p3.png 就是可行的分割法.
>
> 试计算：
> 包括这 3 种分法在内,一共有多少种不同的分割方法.
> 注意：旋转对称的属于同一种分割法.
>
> 请提交该整数,不要填写任何多余的内容或说明文字.

![](https://cdn.hurra.ltd/img/20201013131304.png)

# 分析

沿着格子的边线剪开成两部分,且这两部分的形状完全相同,则这个边线是关于中心对称的,6x6 的方格中心是顶点(3,3),顶点从(0,0)开始

从中心顶点(3,3)开始搜索,每次搜索上下左右四个方向确保联通,同时标记访问的方格与其成中心对称的方格;若搜索到边则结束,方案数加 1

`最后方案数除4,因为旋转对称的属于同一种分割法`

# 代码

```c++
int vis[7][7];
int d[4][2] = {{1,0},{0,1},{-1,0},{0,-1}};
int ans;

bool in(int x,int y){
    return x==0||x==6||y==0||y==6;
}

void dfs(int x,int y){
    if(in(x,y)){
        ans++;
        return;
    }
    for(int i = 0;i < 4;i++){
        int tx = x + d[i][0];
        int ty = y + d[i][1];
        if(!vis[tx][ty]){
            //标记该点与其对于中心对称的点
            vis[tx][ty]=1;
            vis[6-tx][6-ty]=1;
            dfs(tx,ty);
            vis[tx][ty]=0;
            vis[6-tx][6-ty]=0;
        }
    }
}

int main(){
    vis[3][3]=1;
    dfs(3,3);
    cout<<ans/4<<endl;
    return 0;
}
```

![](https://cdn.hurra.ltd/img/收款码.png)
