<!--
 * @Description: 
 * @Version: 1.0
 * @Author: Li Yuanhao
 * @Email: dalao_li@163.com
 * @Date: 2021-03-11 10:17:19
 * @LastEditors: Li Yuanhao
 * @LastEditTime: 2021-03-16 15:16:07
-->
## 文件

**Linux中一切皆文件**.

Linux中如:目录,设备(字符设备,块设备),进程,线程,套接字,管道都是文件.键盘和显示器属于字符设备也是文件.

用户和计算机的交互本质是输入和输出.

通过输入命令告诉计算机要做的操作,计算机处理后会通过打印在屏幕或者输出文件的方式告知用户.

linux命令处理可简化为:

```sh
输入文件 -> 命令 -> 输出文件
```
如 ls命令,其默认输出文件是屏幕.


## 文件描述符

文件描述符fd(file descriptor),本身不是文件而是一个符号,它可指向某个文件.由此,linux命令处理形式可描述为:

```sh
[fd]输入文件->命令->[fd]输出文件
```

| fd  | 缩写   | 描述         | 默认指向文件 |
| --- | ------ | ------------ | ------------ |
| fd0 | stdin  | 标准输入     | 键盘         |
| fd1 | stdout | 标准输出     | 屏幕         |
| fd2 | stderr | 标准错误输出 | 屏幕         |

## 重定向

重定向就是改变文件描述符(fd)所指向的文件

`<`和`<<`属于输入重定向,`>`和`>>`属于输出重定向.

- 示例:

```sh
echo "666" > main.sh
```
正常情况下echo后字符会打印到屏幕上,但是现在这些字符跑到了main.sh中.

echo命令的输出本来是标准输出,即fd1(默认指向屏幕文件),后来经过重定向fd1就指向了main.sh文件.

fd1作为标准输出可以省略不写,即示例命令也可写为:

```sh
echo "666" 1> main.sh
```
- &的作用

```sh
# fd3指向main.sh
exec 3<> main.sh

# fd1重定向到了fd3,最终fd1实际上指向了main.sh
echo "666" >&3
```
重定向符号左边数字表示的就是fd,可不加`&`  

重定向符号右边若不加`&`,数字会被识别为文件,而不是文件描述符